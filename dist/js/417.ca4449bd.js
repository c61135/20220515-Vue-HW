"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[417],{1417:function(t,o,s){s.r(o),s.d(o,{default:function(){return Y}});var l=s(3396),c=s(7139);const n={class:"row justify-content-center bookstoreProduct"},r={class:"col-6 col-sm-5 col-md-4 col-lg-3"},u=["src"],a={class:"col-6 col-md-4"},e={class:"my-3 brown"},i=(0,l.Uk)("原價："),d=(0,l.Uk)("元"),p=(0,l.Uk)("折扣價： "),h={style:{color:"red"}},_=(0,l.Uk)("折 "),g={style:{color:"red"}},w=(0,l.Uk)("元 "),m=(0,l._)("hr",null,null,-1),f={class:"d-flex justify-content-between"},k=(0,l.Uk)("庫存："),v={style:{color:"#00B050"}},y=(0,l._)("i",{class:"fas fa-shopping-cart pe-2"},null,-1),z=(0,l._)("span",null,"加入購物車",-1),b=[y,z],C={class:"row justify-content-center"},L={class:"col-12 col-sm-11 col-md-9"},U=(0,l._)("hr",null,null,-1),j=(0,l._)("h3",{class:"contentTitle"},"內容簡介",-1),x=(0,l._)("h3",{class:"contentTitle mt-5"},"作者簡介",-1),I={style:{"font-weight":"bold"}},T={class:"toast-container d-flex flex-column position-absolute top-0 end-0 toastMargin"};function $(t,o,s,y,z,$){const D=(0,l.up)("LoadingStatus"),P=(0,l.up)("ToastCard");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(D,{active:z.isLoading},null,8,["active"]),(0,l._)("div",n,[(0,l._)("div",r,[(0,l._)("img",{src:z.product.imageUrl,alt:"",class:"img-fluid w-75 m-2 my-3"},null,8,u)]),(0,l._)("div",a,[(0,l._)("h2",e,(0,c.zw)(z.product.title),1),(0,l._)("p",null,"作者："+(0,c.zw)(z.product.author),1),(0,l._)("p",null,"譯者："+(0,c.zw)(z.product.translator),1),(0,l._)("p",null,"出版社："+(0,c.zw)(z.product.publisher),1),(0,l._)("p",null,"出版日期："+(0,c.zw)(z.product.date),1),(0,l._)("p",null,[i,(0,l._)("s",null,(0,c.zw)(z.product.origin_price),1),d]),(0,l._)("p",null,[p,(0,l._)("span",h,(0,c.zw)(Math.floor(z.product.price/z.product.origin_price*100)),1),_,(0,l._)("span",g,(0,c.zw)(z.product.price),1),w]),m,(0,l._)("div",f,[(0,l._)("p",null,[k,(0,l._)("span",v,(0,c.zw)(z.product.stock),1)]),(0,l._)("button",{class:"btn btn-outline-secondary",onClickCapture:o[0]||(o[0]=t=>$.addCart(z.product.id))},b,32)])])]),(0,l._)("div",C,[(0,l._)("div",L,[U,j,(0,l._)("p",null,(0,c.zw)(z.product.content),1),x,(0,l._)("p",I,(0,c.zw)(z.product.author),1),(0,l._)("p",null,(0,c.zw)(z.product.authorDes),1)])]),(0,l._)("div",T,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(z.toastList,((t,o)=>((0,l.wg)(),(0,l.j4)(P,{key:o,msg:t},null,8,["msg"])))),128))])],64)}var D=s(4194),P={components:{ToastCard:D.Z},data(){return{productId:"",product:{},toastList:[],toastCard:[],isLoading:!1}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/ping-api/product/${this.productId}`;this.$http.get(t).then((t=>{this.product=t.data.product,console.log(this.product)}))},addCart(t){this.isLoading=!0;const o="https://vue3-course-api.hexschool.io/api/ping-api/cart",s={product_id:t,qty:1};this.$http.post(o,{data:s}).then((t=>{console.log(t);const o={title:"加入購物車",...t.data};this.toastList.push(o),this.isLoading=!1}))}},created(){this.productId=this.$route.params.productId,this.getProduct()}},H=s(89);const M=(0,H.Z)(P,[["render",$]]);var Y=M}}]);
//# sourceMappingURL=417.ca4449bd.js.map